Table User {
  id integer [pk]
  full_name string
  username string
  hashed_password string
  role enum("admin", "user", "seller")
  email string
  phone string
  is_enabled bool
  created_at date
  updated_at date
}

Table Review {
  id integer [pk]
  user_id integer [pk, ref: > User.id]
  product_id integer [pk, ref: > Product.id]
  rating integer
  content string
  created_at date
  updated_at date
}

Table Category {
  id integer [pk]
  title string
  created_at date
  updated_at date
}

Table Product {
  id integer [pk]
  category_id integer [ref: < Category.id]
  seller_id integer [ref: > User.id]
  title string
  image_url string
  sku string
  price double
  quantity integer
  created_at date
  updated_at date
}

Table Discount {
  id integer [pk]
  type enum("percent", "fixed")
  description string
  value double
  start_date date
  end_date date
  usage_limit integer
  min_order double
  product_id integer [ref: > Product.id]
  promo_code string [unique]
  is_active boolean
}

Table Order {
  id integer [pk]
  user_id integer [ref: > User.id]
  description string
  total_amount double
  is_paid boolean
  status enum(""prepare", "deliver", "arrive")
  created_at date
  updated_at date
}

Table OrderItem {
  id integer [pk]
  product_id integer [pk, ref: > Product.id]
  order_id integer [pk, ref: > Order.id]
  quantity integer
  price double
  created_at date
  updated_at date
}

Table Cart {
  id integer [pk]
  user_id integer [ref: - User.id]
  created_at date
  updated_at date
}

Table CartItem {
  id integer [pk]
  product_id integer [pk, ref: > Product.id]
  cart_id integer [pk, ref: > Cart.id]
  quantity integer
  price double
  created_at date
  updated_at date
}

Table Address {
  id integer [pk]
  user_id integer [ref: > User.id]
  street string
  city string
  postal_code string
  country string
  created_at date
  updated_at date
}

Table Payment {
  id integer [pk]
  order_id integer [ref: - Order.id]
  user_id integer [ref: > User.id]
  transaction_id integer // references the identifier for the transaction of the integrated payment gateway
  created_at date
  updated_at date
}
