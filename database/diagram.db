Table User {
  id integer [pk]
  first_name string
  last_name string
  username string
  password string
  role enum("admin", "buyer", "seller")
  phone string
  token string
}

Table Review {
  id integer [pk]
  user_id integer [pk, ref: > User.id]
  product_id integer [pk, ref: > Product.id]
  rating integer
  content string
  created_at date
  updated_at date
}

Table Category {
  id integer [pk]
  title string
}

Table Product {
  id integer [pk]
  category_id integer [ref: < Category.id]
  description string
  seller_id integer [ref: > User.id]
  title string
  image_url string
  sku string
  price double
  quantity integer
}

Table Discount {
  id integer [pk]
  amount double
  percent double
  description string
  start_date date
  end_date date
  is_active boolean
}

Table Order {
  id integer [pk]
  discount_id integer [ref: < Discount.id]
  user_id integer [ref: > User.id]
  description string
  total_amount double
  status enum("pending", "delivering", "arrived")
  created_at date
}

Table OrderItem {
  id integer [pk]
  product_id integer [pk, ref: > Product.id]
  order_id integer [pk, ref: > Order.id]
  quantity integer
  price double
}

Table Cart {
  id integer [pk]
  user_id integer [ref: - User.id]
}

Table CartItem {
  id integer [pk]
  product_id integer [pk, ref: > Product.id]
  cart_id integer [pk, ref: > Cart.id]
  quantity integer
  price double
}

Table Address {
  id integer [pk]
  user_id integer [ref: > User.id]
  street string
  city string
  country string
}

Table Payment {
  id integer [pk]
  order_id integer [ref: - Order.id]
  user_id integer [ref: > User.id]
  transaction_id integer
  pay_date date
}
